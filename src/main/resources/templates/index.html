<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8" />
    <title>5S检查</title>
    <link rel="icon" type="image/x-icon" href="/static/image/favicon.ico"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.min.css}" />
</head>
<body>
你好, 今天是<p id="dateValue" th:text="${#dates.format(#dates.createNow(), 'yyyy年MM月dd日')}" th:value="${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}"></p>

<br/>
<div style="overflow: hidden;">
    <label for="groupId" class="col-form-label col-2">请选择检查对象：</label><select id="groupId" class="custom-select col-1"></select>
    <button id="checkTheGroup" class="btn-info">确定</button>
    <button id="pastQuery" class="btn-primary">往期查询</button>
    <button class="btn-primary" id="groupList" style="margin-right: 5px;float: right;margin-top: 5px;">小组管理</button>
    <button class="btn-primary" id="positionList" style="margin-right: 5px;float: right;margin-top: 5px;">机器管理</button>
    <button class="btn-primary" id="problemList" style="margin-right: 5px;float: right;margin-top: 5px;">问题管理</button>
</div>
<div>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th width="5%">序号</th>
                <th width="10%">日期</th>
                <th width="10%">小组</th>
                <th width="10%">机器</th>
                <th width="*%">问题</th>
                <th width="8%">扣分</th>
            </tr>
        </thead>
    </table>
</div>
</body>
<script th:src="@{/js/jquery-3.3.1.min.js}"></script>
<script th:inline="javascript">

    var basePath = [[${#httpServletRequest.getScheme() + "://" + #httpServletRequest.getServerName() + ":" + #httpServletRequest.getServerPort() + #httpServletRequest.getContextPath()}]];

    //分组下拉框
    var getAllGroup = function () {
        $.ajax({
            url:basePath + "/workGroup/findAllList",
            type:"GET",
            success:function (data) {
                console.log(data);
                var _html = '';
                if (data.success) {
                    $(data.data).each(function (i, item) {
                        _html += ('<option value="'+item.id+'">'+item.name+'</option>');
                    });
                    $("#groupId").html(_html);
                }
            },
            error:function (data) {
                console.log(data);
            }
        });
    };

    $("#checkTheGroup").on('click', function () {

    });

    $("#pastQuery").on('click', function () {
       window.location.href = basePath + '/query';
    });

    $("#groupList").on('click', function () {
       window.location.href = basePath + '/group';
    });

    $("#positionList").on('click', function () {
        window.location.href = basePath + '/position';
    });

    $("#problemList").on('click', function () {
        window.location.href = basePath + '/problem';
    });

    // $("#checkTheGroup").on('click', function () {
    //     var dateValue = $("#dateValue").attr("value");
    //     var groupId = $('select option:selected').val();
    //     var groupName = $('select option:selected').text();
    //
    //     /*<![CDATA[*/
    //     window.location.href = basePath + '/collect?dateValue=' + dateValue + '&groupId=' + groupId + '&groupName=' + groupName;
    //     /*]]>*/
    // });

    getAllGroup();
</script>
</html>